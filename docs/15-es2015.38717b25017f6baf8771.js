(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{r1hw:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),a=t("ZZ/e"),u=t("OZIg"),i=t("/kET");class c{constructor(n,l,t){this.activatedRoute=n,this.tracksService=l,this.nav=t}ngOnInit(){if(this.trackIndex=Number(this.activatedRoute.snapshot.paramMap.get("index")),this.track={name:"",videoUrl:"",markers:[]},-1!==this.trackIndex){const n=this.tracksService.tracks[this.trackIndex];this.track.name=n.name,this.track.videoUrl=n.videoUrl}}ionViewWillEnter(){const n=Object(i.a)();n&&(this.track.videoUrl=n.id.videoId,this.track.name||(this.track.name=n.snippet.title),Object(i.b)(void 0))}addTrack(){let n=!1;if(this.file)this.tracksService.addFileTrack(this.file,this.track.name),n=!0;else{if(-1!==this.trackIndex){const n=this.tracksService.tracks[this.trackIndex];n.name=this.track.name,n.videoUrl=this.track.videoUrl}else n=!0,this.tracksService.tracks.push(Object.assign({},this.track));this.tracksService.saveTracks()}setTimeout(()=>{const l=this.nav.pop();n&&l.then(()=>this.nav.navigateRoot(["/track",this.tracksService.tracks.length-1]))})}ytSearch(){this.nav.navigateForward("/yt-search")}onFileChanged(n){this.file=n.target.files[0],this.track.name=this.file.name}}class o{}var r=t("pMnS"),s=t("DHcw"),d=t("oBZk"),b=t("s7LF"),g=t("iInd"),h=e.ob({encapsulation:0,styles:[[".add-track-content[_ngcontent-%COMP%]{padding:16px;display:grid;grid-template-columns:auto 35px}.add-track-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{grid-column:1}.add-track-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:nth-child(2){color:#aaa}.add-track-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{grid-column:2;justify-self:end;font-size:25pt;color:#aaa;position:relative;top:-35px;cursor:pointer}.add-track-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{grid-column:1/3}.add[_ngcontent-%COMP%]{margin-top:20px}.local-audio-file[_ngcontent-%COMP%]{margin-top:35px;font-size:smaller}.local-audio-file[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding-bottom:4px}"]],data:{}});function p(n){return e.Jb(0,[e.Cb(0,s.a,[]),(n()(),e.qb(1,0,null,null,7,"ion-header",[],null,null,null,d.w,d.f)),e.pb(2,49152,null,0,a.A,[e.h,e.k,e.x],null,null),(n()(),e.qb(3,0,null,0,5,"ion-toolbar",[],null,null,null,d.H,d.q)),e.pb(4,49152,null,0,a.Ab,[e.h,e.k,e.x],null,null),(n()(),e.qb(5,0,null,0,3,"ion-title",[],null,null,null,d.G,d.p)),e.pb(6,49152,null,0,a.yb,[e.h,e.k,e.x],null,null),(n()(),e.Hb(7,0,["",""])),e.Db(8,1),(n()(),e.qb(9,0,null,null,29,"ion-content",[],null,null,null,d.t,d.c)),e.pb(10,49152,null,0,a.t,[e.h,e.k,e.x],null,null),(n()(),e.qb(11,0,null,0,27,"div",[["class","add-track-content"]],null,null,null,null,null)),(n()(),e.qb(12,0,null,null,7,"ion-input",[["clear-input",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var a=!0,u=n.component;return"ionBlur"===l&&(a=!1!==e.Bb(n,13)._handleBlurEvent()&&a),"ionChange"===l&&(a=!1!==e.Bb(n,13)._handleInputEvent(t.target.value)&&a),"ngModelChange"===l&&(a=!1!==(u.track.name=t)&&a),a},d.y,d.h)),e.pb(13,16384,null,0,a.Ib,[e.k],null,null),e.Eb(1024,null,b.b,function(n){return[n]},[a.Ib]),e.pb(15,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,b.c,null,[b.e]),e.pb(17,16384,null,0,b.d,[[4,b.c]],null,null),e.pb(18,49152,null,0,a.F,[e.h,e.k,e.x],{placeholder:[0,"placeholder"]},null),e.Db(19,1),(n()(),e.qb(20,0,null,null,7,"ion-input",[["clear-input",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var a=!0,u=n.component;return"ionBlur"===l&&(a=!1!==e.Bb(n,21)._handleBlurEvent()&&a),"ionChange"===l&&(a=!1!==e.Bb(n,21)._handleInputEvent(t.target.value)&&a),"ngModelChange"===l&&(a=!1!==(u.track.videoUrl=t)&&a),a},d.y,d.h)),e.pb(21,16384,null,0,a.Ib,[e.k],null,null),e.Eb(1024,null,b.b,function(n){return[n]},[a.Ib]),e.pb(23,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,b.c,null,[b.e]),e.pb(25,16384,null,0,b.d,[[4,b.c]],null,null),e.pb(26,49152,null,0,a.F,[e.h,e.k,e.x],{placeholder:[0,"placeholder"]},null),e.Db(27,1),(n()(),e.qb(28,0,null,null,1,"ion-icon",[["name","search"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.ytSearch()&&e),e},d.x,d.g)),e.pb(29,49152,null,0,a.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(n()(),e.qb(30,0,null,null,3,"ion-button",[["class","add"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addTrack()&&e),e},d.s,d.b)),e.pb(31,49152,null,0,a.j,[e.h,e.k,e.x],{disabled:[0,"disabled"]},null),(n()(),e.Hb(32,0,["",""])),e.Db(33,1),(n()(),e.qb(34,0,null,null,4,"div",[["class","local-audio-file"]],null,null,null,null,null)),(n()(),e.qb(35,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),e.Hb(36,null,["",""])),e.Db(37,1),(n()(),e.qb(38,0,null,null,0,"input",[["accept","audio/*"],["type","file"]],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.onFileChanged(t)&&e),e},null,null))],function(n,l){var t=l.component;n(l,15,0,t.track.name);var a=e.Ib(l,18,0,n(l,19,0,e.Bb(l,0),"C_NAME"));n(l,18,0,a),n(l,23,0,t.track.videoUrl);var u=e.Ib(l,26,0,n(l,27,0,e.Bb(l,0),"C_YT_OR_VIDEO_ID"));n(l,26,0,u),n(l,29,0,"search"),n(l,31,0,!t.track.name||!t.track.videoUrl&&!t.file)},function(n,l){var t=l.component,a=e.Ib(l,7,0,n(l,8,0,e.Bb(l,0),t.trackIndex<0?"C_ADD_TRACK":"C_EDIT_TRACK"));n(l,7,0,a),n(l,12,0,e.Bb(l,17).ngClassUntouched,e.Bb(l,17).ngClassTouched,e.Bb(l,17).ngClassPristine,e.Bb(l,17).ngClassDirty,e.Bb(l,17).ngClassValid,e.Bb(l,17).ngClassInvalid,e.Bb(l,17).ngClassPending),n(l,20,0,e.Bb(l,25).ngClassUntouched,e.Bb(l,25).ngClassTouched,e.Bb(l,25).ngClassPristine,e.Bb(l,25).ngClassDirty,e.Bb(l,25).ngClassValid,e.Bb(l,25).ngClassInvalid,e.Bb(l,25).ngClassPending);var u=e.Ib(l,32,0,n(l,33,0,e.Bb(l,0),t.trackIndex<0?"C_ADD":"C_SAVE"));n(l,32,0,u);var i=e.Ib(l,36,0,n(l,37,0,e.Bb(l,0),"C_LOCAL_AUDIO_FILE"));n(l,36,0,i)})}function k(n){return e.Jb(0,[(n()(),e.qb(0,0,null,null,1,"app-add-track",[],null,null,null,p,h)),e.pb(1,114688,null,0,c,[g.a,u.a,a.Fb],null,null)],function(n,l){n(l,1,0)},null)}var v=e.mb("app-add-track",c,k,{},{},[]),C=t("SVse"),m=t("a6Df");t.d(l,"AddTrackPageModuleNgFactory",function(){return f});var f=e.nb(o,[],function(n){return e.yb([e.zb(512,e.j,e.Y,[[8,[r.a,v]],[3,e.j],e.v]),e.zb(4608,C.k,C.j,[e.s,[2,C.q]]),e.zb(4608,b.g,b.g,[]),e.zb(4608,a.c,a.c,[e.x,e.g]),e.zb(4608,a.Eb,a.Eb,[a.c,e.j,e.p]),e.zb(4608,a.Hb,a.Hb,[a.c,e.j,e.p]),e.zb(1073742336,C.b,C.b,[]),e.zb(1073742336,m.a,m.a,[]),e.zb(1073742336,b.f,b.f,[]),e.zb(1073742336,b.a,b.a,[]),e.zb(1073742336,a.Cb,a.Cb,[]),e.zb(1073742336,g.n,g.n,[[2,g.s],[2,g.m]]),e.zb(1073742336,o,o,[]),e.zb(1024,g.k,function(){return[[{path:"",component:c}]]},[])])})}}]);