(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{L6id:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=function(){return function(){}}(),o=l("pMnS"),r=l("oBZk"),u=l("ZZ/e"),a=l("Ip0R"),c=l("DHcw"),s=l("gIcY"),b=l("mrSG"),p=l("OZIg"),f=l("eXth"),h=function(){function n(n,t,l,e,i,o){var r=this;this.tracksService=n,this.nav=t,this.actionSheetController=l,this.xlate=e,this.storeService=i,this.toastController=o,this.tracks=[],this.filter="",this.onDragOver=function(n){return n.preventDefault()},this.onDrop=function(n){n.preventDefault();var t=n.dataTransfer;if(t.files){var l=r.tracksService.addFileTrack(t.files[0]).track;r.openTrack(b.a({},l,{index:r.tracksService.tracks.length-1,fileLost:!1}))}}}return Object.defineProperty(n.prototype,"noTracks",{get:function(){return 0===this.tracks.length},enumerable:!0,configurable:!0}),n.prototype.ionViewWillEnter=function(){this.updateTracks(),document.body.addEventListener("dragover",this.onDragOver),document.body.addEventListener("drop",this.onDrop)},n.prototype.ionViewWillLeave=function(){document.body.removeEventListener("dragover",this.onDragOver),document.body.removeEventListener("drop",this.onDrop)},n.prototype.updateTracks=function(){var n=this,t=this.tracksService.tracks.map(function(t,l){return b.a({},t,{index:l,fileLost:n.isFileLost(t)})}),l=this.filter.toLowerCase().trim();this.tracks=l?t.filter(function(n){return n.name.toLowerCase().includes(l)}):t,this.tracks.sort(function(n,t){return n.name.localeCompare(t.name)})},n.prototype.onFilterChange=function(n){this.filter=n.target.value,this.updateTracks()},n.prototype.deleteTrack=function(n){this.tracksService.deleteTrack(n.index),this.updateTracks()},n.prototype.editTrack=function(n,t){t.close(),this.nav.navigateForward(["/add-track",n.index])},n.prototype.addTrack=function(){return b.b(this,void 0,void 0,function(){return b.d(this,function(n){switch(n.label){case 0:return[4,this.nav.navigateForward(["/add-track",-1],{animated:!1})];case 1:return n.sent(),[4,this.nav.navigateForward("/yt-search")];case 2:return n.sent(),[2]}})})},n.prototype.presentMenu=function(){return b.b(this,void 0,void 0,function(){var n=this;return b.d(this,function(t){switch(t.label){case 0:return[4,this.actionSheetController.create({buttons:[this.noTracks?void 0:{text:this.xlate.transform("C_EXPORT"),handler:function(){setTimeout(function(){return n.storeService.export()})}},{text:this.xlate.transform("C_IMPORT"),handler:function(){setTimeout(function(){return b.b(n,void 0,void 0,function(){return b.d(this,function(n){switch(n.label){case 0:return[4,this.storeService.import()];case 1:return n.sent()?(this.updateTracks(),[3,4]):[3,2];case 2:return[4,this.toastController.create({message:this.xlate.transform("C_IMPORT_ERROR"),showCloseButton:!0,closeButtonText:"\u2716",duration:4e3})];case 3:n.sent().present(),n.label=4;case 4:return[2]}})})})}},{text:this.xlate.transform("C_INFO"),handler:function(){return n.presentInfo()}}].filter(Boolean)})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.openTrack=function(n){n.fileLost||this.nav.navigateForward(["/track",n.index])},n.prototype.presentInfo=function(){this.nav.navigateForward("/info")},n.prototype.isFileLost=function(n){var t=n.file;return n.isFile&&t&&"function"!=typeof t.slice},n}(),d=e.qb({encapsulation:0,styles:[["ion-item-option[_ngcontent-%COMP%]{font-size:15pt}ion-fab[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{cursor:pointer;height:56px;display:flex;position:relative;top:-20px;left:-10px}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{position:relative;left:-10px}ion-icon[name=menu][_ngcontent-%COMP%]{background-color:#fff;font-size:24pt;flex:1;position:relative;top:10px}@-webkit-keyframes pulse-animation{0%,100%,30%,50%,60%,80%{opacity:1}40%,70%{opacity:.6}}@keyframes pulse-animation{0%,100%,30%,50%,60%,80%{opacity:1}40%,70%{opacity:.6}}.file-lost[_ngcontent-%COMP%]{color:#d3d3d3}.pulse[_ngcontent-%COMP%]{-webkit-animation-name:pulse-animation;animation-name:pulse-animation;-webkit-animation-duration:4s;animation-duration:4s;transform-origin:70% 70%;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.title[_ngcontent-%COMP%]{margin-top:120px;text-align:center}.add-track-info[_ngcontent-%COMP%]{margin-left:60px;margin-top:-35px;position:absolute;white-space:nowrap}.with-tracks[_ngcontent-%COMP%]{bottom:50px}"]],data:{}});function m(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"h3",[["class","title"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Musician's Practicing Player"]))],null,null)}function k(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,3,"ion-item-option",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.editTrack(n.parent.context.$implicit,e.Db(n.parent,1))&&i),i},r.z,r.j)),e.rb(1,49152,null,0,u.I,[e.h,e.k,e.z],null,null),(n()(),e.sb(2,0,null,0,1,"ion-icon",[["name","create"]],null,null,null,r.x,r.g)),e.rb(3,49152,null,0,u.A,[e.h,e.k,e.z],{name:[0,"name"]},null)],function(n,t){n(t,3,0,"create")},null)}function v(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,14,"ion-item-sliding",[],null,null,null,r.B,r.l)),e.rb(1,49152,[["it",4]],0,u.K,[e.h,e.k,e.z],null,null),(n()(),e.sb(2,0,null,0,7,"ion-item-options",[["side","end"]],null,null,null,r.A,r.k)),e.rb(3,49152,null,0,u.J,[e.h,e.k,e.z],{side:[0,"side"]},null),(n()(),e.sb(4,0,null,0,3,"ion-item-option",[["color","danger"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.deleteTrack(n.context.$implicit)&&e),e},r.z,r.j)),e.rb(5,49152,null,0,u.I,[e.h,e.k,e.z],{color:[0,"color"]},null),(n()(),e.sb(6,0,null,0,1,"ion-icon",[["name","trash"]],null,null,null,r.x,r.g)),e.rb(7,49152,null,0,u.A,[e.h,e.k,e.z],{name:[0,"name"]},null),(n()(),e.hb(16777216,null,0,1,null,k)),e.rb(9,16384,null,0,a.i,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(10,0,null,0,4,"ion-item",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.openTrack(n.context.$implicit)&&e),e},r.C,r.i)),e.rb(11,49152,null,0,u.F,[e.h,e.k,e.z],null,null),(n()(),e.sb(12,0,null,0,2,"ion-label",[],[[2,"file-lost",null]],null,null,r.D,r.m)),e.rb(13,49152,null,0,u.L,[e.h,e.k,e.z],null,null),(n()(),e.Jb(14,0,["",""]))],function(n,t){n(t,3,0,"end"),n(t,5,0,"danger"),n(t,7,0,"trash"),n(t,9,0,!t.context.$implicit.isFile)},function(n,t){n(t,12,0,t.context.$implicit.fileLost),n(t,14,0,t.context.$implicit.name)})}function g(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,2,"div",[["class","add-track-info pulse"]],null,null,null,null,null)),(n()(),e.Jb(1,null,["",""])),e.Fb(2,1)],null,function(n,t){var l=e.Kb(t,1,0,n(t,2,0,e.Db(t.parent,0),"C_ADD_TRACK"));n(t,1,0,l)})}function x(n){return e.Lb(0,[e.Eb(0,c.a,[]),(n()(),e.sb(1,0,null,null,8,"ion-header",[],[[8,"hidden",0]],null,null,r.w,r.f)),e.rb(2,49152,null,0,u.z,[e.h,e.k,e.z],null,null),(n()(),e.sb(3,0,null,0,6,"ion-toolbar",[],null,null,null,r.H,r.q)),e.rb(4,49152,null,0,u.zb,[e.h,e.k,e.z],null,null),(n()(),e.sb(5,0,null,0,4,"ion-searchbar",[],null,[[null,"ionInput"],[null,"ionBlur"],[null,"ionChange"]],function(n,t,l){var i=!0,o=n.component;return"ionBlur"===t&&(i=!1!==e.Db(n,9)._handleBlurEvent()&&i),"ionChange"===t&&(i=!1!==e.Db(n,9)._handleInputEvent(l.target.value)&&i),"ionInput"===t&&(i=!1!==o.onFilterChange(l)&&i),i},r.F,r.o)),e.Gb(5120,null,s.b,function(n){return[n]},[u.Hb]),e.rb(7,49152,null,0,u.hb,[e.h,e.k,e.z],{placeholder:[0,"placeholder"]},null),e.Fb(8,1),e.rb(9,16384,null,0,u.Hb,[e.k],null,null),(n()(),e.sb(10,0,null,null,18,"ion-content",[],null,null,null,r.t,r.c)),e.rb(11,49152,null,0,u.s,[e.h,e.k,e.z],null,null),(n()(),e.hb(16777216,null,0,1,null,m)),e.rb(13,16384,null,0,a.i,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(14,0,null,0,3,"ion-list",[],null,null,null,r.E,r.n)),e.rb(15,49152,null,0,u.M,[e.h,e.k,e.z],null,null),(n()(),e.hb(16777216,null,0,1,null,v)),e.rb(17,278528,null,0,a.h,[e.N,e.K,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(18,0,null,0,10,"ion-fab",[["slot","fixed"]],[[2,"with-tracks",null]],null,null,r.v,r.d)),e.rb(19,49152,null,0,u.u,[e.h,e.k,e.z],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.sb(20,0,null,0,2,"div",[["class","menu-container"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.presentMenu()&&e),e},null,null)),(n()(),e.sb(21,0,null,null,1,"ion-icon",[["name","menu"]],null,null,null,r.x,r.g)),e.rb(22,49152,null,0,u.A,[e.h,e.k,e.z],{name:[0,"name"]},null),(n()(),e.sb(23,0,null,0,3,"ion-fab-button",[],[[2,"pulse",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.addTrack()&&e),e},r.u,r.e)),e.rb(24,49152,null,0,u.v,[e.h,e.k,e.z],null,null),(n()(),e.sb(25,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,r.x,r.g)),e.rb(26,49152,null,0,u.A,[e.h,e.k,e.z],{name:[0,"name"]},null),(n()(),e.hb(16777216,null,0,1,null,g)),e.rb(28,16384,null,0,a.i,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component,i=e.Kb(t,7,0,n(t,8,0,e.Db(t,0),"C_SEARCH"));n(t,7,0,i),n(t,13,0,l.noTracks),n(t,17,0,l.tracks),n(t,19,0,l.noTracks?"center":"end",l.noTracks?"center":"bottom"),n(t,22,0,"menu"),n(t,26,0,"add"),n(t,28,0,l.noTracks)},function(n,t){var l=t.component;n(t,1,0,l.noTracks),n(t,18,0,!l.noTracks),n(t,23,0,l.noTracks)})}function C(n){return e.Lb(0,[(n()(),e.sb(0,0,null,null,1,"app-home",[],null,null,null,x,d)),e.rb(1,49152,null,0,h,[p.a,u.Eb,u.a,c.a,f.a,u.Ib],null,null)],null,null)}var T=e.ob("app-home",h,C,{},{},[]),w=l("a6Df"),y=l("ZYCi");l.d(t,"HomePageModuleNgFactory",function(){return z});var z=e.pb(i,[],function(n){return e.Ab([e.Bb(512,e.j,e.ab,[[8,[o.a,T]],[3,e.j],e.x]),e.Bb(4608,a.k,a.j,[e.u,[2,a.q]]),e.Bb(4608,s.g,s.g,[]),e.Bb(4608,u.b,u.b,[e.z,e.g]),e.Bb(4608,u.Db,u.Db,[u.b,e.j,e.q]),e.Bb(4608,u.Gb,u.Gb,[u.b,e.j,e.q]),e.Bb(1073742336,a.b,a.b,[]),e.Bb(1073742336,w.a,w.a,[]),e.Bb(1073742336,s.f,s.f,[]),e.Bb(1073742336,s.a,s.a,[]),e.Bb(1073742336,u.Bb,u.Bb,[]),e.Bb(1073742336,y.n,y.n,[[2,y.s],[2,y.m]]),e.Bb(1073742336,i,i,[]),e.Bb(1024,y.k,function(){return[[{path:"",component:h}]]},[])])})}}]);